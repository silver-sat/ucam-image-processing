This code is from https://github.com/riskiest/color_calibration/tree/master/src with minor tweaks.
Included here for completeness and as an example of similar work.

